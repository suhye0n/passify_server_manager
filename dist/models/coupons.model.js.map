{"version":3,"sources":["../../src/models/coupons.model.ts"],"sourcesContent":["import { Sequelize, DataTypes, Model, Optional } from 'sequelize';\nimport { Coupon } from '@/interfaces/coupons.interface';\n\nexport type CouponCreationAttributes = Optional<Coupon, 'id' | 'barcode' | 'memo' | 'userId'>;\n\nexport class CouponModel extends Model<Coupon, CouponCreationAttributes> implements Coupon {\n  public id: number;\n  public userId: number;\n  public name: string;\n  public barcode: string;\n  public memo?: string;\n\n  public readonly createdAt!: Date;\n  public readonly updatedAt!: Date;\n}\n\nexport default function (sequelize: Sequelize): typeof CouponModel {\n  CouponModel.init(\n    {\n      id: {\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.INTEGER,\n      },\n      userId: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        references: {\n          model: 'users',\n          key: 'id',\n        },\n        onDelete: 'CASCADE',\n        onUpdate: 'CASCADE',\n      },\n      name: {\n        allowNull: false,\n        type: DataTypes.STRING(45),\n      },\n      barcode: {\n        allowNull: false,\n        type: DataTypes.TEXT,\n      },\n      memo: {\n        allowNull: true,\n        type: DataTypes.TEXT,\n      },\n    },\n    {\n      tableName: 'coupons',\n      sequelize,\n    },\n  );\n\n  return CouponModel;\n}\n"],"names":["CouponModel","Model","id","userId","name","barcode","memo","createdAt","updatedAt","sequelize","init","autoIncrement","primaryKey","type","DataTypes","INTEGER","allowNull","references","model","key","onDelete","onUpdate","STRING","TEXT","tableName"],"mappings":";;;;;;;;;;;IAKaA,WAAW;eAAXA;;IAWb,OAsCC;eAtCD;;;2BAhBsD;;;;;;;;;;;;;;AAK/C,IAAA,AAAMA,cAAN,MAAMA,oBAAoBC,gBAAK;;wBACpC,uBAAOC,MAAP,KAAA,IACA,uBAAOC,UAAP,KAAA,IACA,uBAAOC,QAAP,KAAA,IACA,uBAAOC,WAAP,KAAA,IACA,uBAAOC,QAAP,KAAA,IAEA,uBAAgBC,aAAhB,KAAA,IACA,uBAAgBC,aAAhB,KAAA;;AACF;AAEe,SAAf,SAAyBC,SAAoB;IAC3CT,YAAYU,IAAI,CACd;QACER,IAAI;YACFS,eAAe;YACfC,YAAY;YACZC,MAAMC,oBAAS,CAACC,OAAO;QACzB;QACAZ,QAAQ;YACNU,MAAMC,oBAAS,CAACC,OAAO;YACvBC,WAAW;YACXC,YAAY;gBACVC,OAAO;gBACPC,KAAK;YACP;YACAC,UAAU;YACVC,UAAU;QACZ;QACAjB,MAAM;YACJY,WAAW;YACXH,MAAMC,oBAAS,CAACQ,MAAM,CAAC;QACzB;QACAjB,SAAS;YACPW,WAAW;YACXH,MAAMC,oBAAS,CAACS,IAAI;QACtB;QACAjB,MAAM;YACJU,WAAW;YACXH,MAAMC,oBAAS,CAACS,IAAI;QACtB;IACF,GACA;QACEC,WAAW;QACXf;IACF;IAGF,OAAOT;AACT"}